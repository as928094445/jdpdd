(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"19b4":function(t,e,n){"use strict";(function(t){n("908c");i(n("66fd"));var e=i(n("3e10"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"3e10":function(t,e,n){"use strict";n.r(e);var i=n("b8f4"),o=n("55a2");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("401f");var r,a=n("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=s.exports},"401f":function(t,e,n){"use strict";var i=n("8f1d"),o=n.n(i);o.a},"55a2":function(t,e,n){"use strict";n.r(e);var i=n("58fa"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=o.a},"58fa":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("2f62"),o=u(n("8846"));function u(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){n.e("components/icon/icon").then(function(){return resolve(n("11d2"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/button/button").then(function(){return resolve(n("6d63"))}.bind(null,n)).catch(n.oe)},f={components:{tuiIcon:l,tuiButton:c},data:function(){return{disabled:!1,btnText:"获取验证码",mobile:"",password:"",type:"primary",code:"",butSubmit:!1,butLoading:!1}},methods:a(a({},(0,i.mapMutations)(["login,authKey"])),{},{getRandom:function(t){var e="";t=t||6;for(var n=0;n<t;n++)e+=Math.floor(10*Math.random());return Number(e)},doLoop:function(t){var e=this,n=this.getRandom(6);this.tui.toast("您本次的验证码是："+n,5e3),t=t||60,this.btnText=t+"s后获取",this.code=n;var i=setInterval((function(){t>0?(e.btnText=t+"s后获取",--t):(e.btnText="获取验证码",e.disabled=!1,e.type="primary",clearInterval(i))}),1e3)},btnSend:function(){var t=this;o.default.isNullOrEmpty(this.mobile)?this.tui.toast("请输入手机号码"):o.default.isMobile(this.mobile)?(this.disabled=!0,this.btnText="请稍候...",this.type="gray",setTimeout((function(){t.doLoop(60)}),500)):this.tui.toast("请输入正确的手机号码")},formLogin:function(e){var n=e.detail.value.smsCode,i=e.detail.value.mobile,u=e.detail.value.password,r=e.detail.value.ConfirmPass;if(o.default.isNullOrEmpty(i))this.tui.toast("请输入手机号码");else if(o.default.isMobile(i))if(o.default.isNullOrEmpty(n))this.tui.toast("请输入验证码");else if(n==this.code)if(o.default.isNullOrEmpty(u))this.tui.toast("请输入密码");else if(o.default.isNullOrEmpty(r))this.tui.toast("请再次输入密码");else if(u===r){this.butSubmit=!0,this.butLoading=!0;var a=this;a.$http.post("/app_reg",{username:i,password:u,ConfirmPass:r}).then((function(e){if(200==e.data.ret){a.is_get_goods=!0;var n=e.data.data;a.authKey(n),a.tui.toast("登录成功",2e3,!0),t.reLaunch({url:"../user/my"})}else a.butSubmit=!1,a.butLoading=!1})).catch((function(t){a.butSubmit=!1,a.butLoading=!1})),t.setStorageSync("thorui_mobile",o.default.formatNum(i));var s={mobile:o.default.formatNum(i),isLogin:!0,memberId:0};this.login(s),this.tui.toast("登录成功",2e3,!0),setTimeout((function(){t.reLaunch({url:"../user/my"})}),200)}else this.tui.toast("两次密码不一致,请重新输入");else this.tui.toast("验证码不正确");else o.default.toast("请输入正确的手机号码")},protocol:function(){t.navigateTo({url:"../about/about"})}})};e.default=f}).call(this,n("543d")["default"])},"8f1d":function(t,e,n){},b8f4:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},u=[]}},[["19b4","common/runtime","common/vendor"]]]);